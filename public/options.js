import{c as S,r as c,e as ze,u as G,w as He,j as t,P as R,f as $,i as P,v as Bt,b as Ee,g as ye,x as Ut,D as zt,y as Ht,z as Gt,X as qt,s as te,C as A,m as I,n as M,o as B,p as F,B as C,l as ke,q as Kt,R as Zt,T as Xt}from"./assets/index-C3gGH1Qs.js";import{u as ae,I as W,a as Ge,f as Yt,T as Jt,b as Qt,c as re,S as De,d as se,g as en,h as tn,i as Pe,r as nn,e as an}from"./assets/tabs-DB-rwdg8.js";import{u as rn,T as Re}from"./assets/index-DwWLKMeS.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qe=S("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=S("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=S("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xe=S("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=S("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sn=S("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const on=S("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=S("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=S("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cn=S("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=S("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);function ln(e){const a=c.useRef({value:e,previous:e});return c.useMemo(()=>(a.current.value!==e&&(a.current.previous=a.current.value,a.current.value=e),a.current.previous),[e])}var be="Switch",[dn,Fa]=ze(be),[un,mn]=dn(be),et=c.forwardRef((e,a)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:l,disabled:i,value:v="on",onCheckedChange:p,form:y,...x}=e,[g,b]=c.useState(null),j=G(a,h=>b(h)),u=c.useRef(!1),m=g?y||!!g.closest("form"):!0,[f=!1,N]=He({prop:s,defaultProp:o,onChange:p});return t.jsxs(un,{scope:n,checked:f,disabled:i,children:[t.jsx(R.button,{type:"button",role:"switch","aria-checked":f,"aria-required":l,"data-state":at(f),"data-disabled":i?"":void 0,disabled:i,value:v,...x,ref:j,onClick:$(e.onClick,h=>{N(d=>!d),m&&(u.current=h.isPropagationStopped(),u.current||h.stopPropagation())})}),m&&t.jsx(fn,{control:g,bubbles:!u.current,name:r,value:v,checked:f,required:l,disabled:i,form:y,style:{transform:"translateX(-100%)"}})]})});et.displayName=be;var tt="SwitchThumb",nt=c.forwardRef((e,a)=>{const{__scopeSwitch:n,...r}=e,s=mn(tt,n);return t.jsx(R.span,{"data-state":at(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:a})});nt.displayName=tt;var fn=e=>{const{control:a,checked:n,bubbles:r=!0,...s}=e,o=c.useRef(null),l=ln(n),i=rn(a);return c.useEffect(()=>{const v=o.current,p=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(p,"checked").set;if(l!==n&&x){const g=new Event("click",{bubbles:r});x.call(v,n),v.dispatchEvent(g)}},[l,n,r]),t.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:o,style:{...e.style,...i,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function at(e){return e?"checked":"unchecked"}var rt=et,hn=nt;const st=c.forwardRef(({className:e,...a},n)=>t.jsx(rt,{className:P("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...a,ref:n,children:t.jsx(hn,{className:P("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));st.displayName=rt.displayName;var pn="Label",ot=c.forwardRef((e,a)=>t.jsx(R.label,{...e,ref:a,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));ot.displayName=pn;var it=ot;const vn=Bt("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),H=c.forwardRef(({className:e,...a},n)=>t.jsx(it,{ref:n,className:P(vn(),e),...a}));H.displayName=it.displayName;var oe="focusScope.autoFocusOnMount",ie="focusScope.autoFocusOnUnmount",Ae={bubbles:!1,cancelable:!0},xn="FocusScope",ct=c.forwardRef((e,a)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=e,[i,v]=c.useState(null),p=Ee(s),y=Ee(o),x=c.useRef(null),g=G(a,u=>v(u)),b=c.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;c.useEffect(()=>{if(r){let u=function(h){if(b.paused||!i)return;const d=h.target;i.contains(d)?x.current=d:T(x.current,{select:!0})},m=function(h){if(b.paused||!i)return;const d=h.relatedTarget;d!==null&&(i.contains(d)||T(x.current,{select:!0}))},f=function(h){if(document.activeElement===document.body)for(const w of h)w.removedNodes.length>0&&T(i)};document.addEventListener("focusin",u),document.addEventListener("focusout",m);const N=new MutationObserver(f);return i&&N.observe(i,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",u),document.removeEventListener("focusout",m),N.disconnect()}}},[r,i,b.paused]),c.useEffect(()=>{if(i){Me.add(b);const u=document.activeElement;if(!i.contains(u)){const f=new CustomEvent(oe,Ae);i.addEventListener(oe,p),i.dispatchEvent(f),f.defaultPrevented||(gn(Nn(lt(i)),{select:!0}),document.activeElement===u&&T(i))}return()=>{i.removeEventListener(oe,p),setTimeout(()=>{const f=new CustomEvent(ie,Ae);i.addEventListener(ie,y),i.dispatchEvent(f),f.defaultPrevented||T(u??document.body,{select:!0}),i.removeEventListener(ie,y),Me.remove(b)},0)}}},[i,p,y,b]);const j=c.useCallback(u=>{if(!n&&!r||b.paused)return;const m=u.key==="Tab"&&!u.altKey&&!u.ctrlKey&&!u.metaKey,f=document.activeElement;if(m&&f){const N=u.currentTarget,[h,d]=yn(N);h&&d?!u.shiftKey&&f===d?(u.preventDefault(),n&&T(h,{select:!0})):u.shiftKey&&f===h&&(u.preventDefault(),n&&T(d,{select:!0})):f===N&&u.preventDefault()}},[n,r,b.paused]);return t.jsx(R.div,{tabIndex:-1,...l,ref:g,onKeyDown:j})});ct.displayName=xn;function gn(e,{select:a=!1}={}){const n=document.activeElement;for(const r of e)if(T(r,{select:a}),document.activeElement!==n)return}function yn(e){const a=lt(e),n=Ie(a,e),r=Ie(a.reverse(),e);return[n,r]}function lt(e){const a=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)a.push(n.currentNode);return a}function Ie(e,a){for(const n of e)if(!bn(n,{upTo:a}))return n}function bn(e,{upTo:a}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(a!==void 0&&e===a)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function jn(e){return e instanceof HTMLInputElement&&"select"in e}function T(e,{select:a=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&jn(e)&&a&&e.select()}}var Me=wn();function wn(){let e=[];return{add(a){const n=e[0];a!==n&&(n==null||n.pause()),e=Fe(e,a),e.unshift(a)},remove(a){var n;e=Fe(e,a),(n=e[0])==null||n.resume()}}}function Fe(e,a){const n=[...e],r=n.indexOf(a);return r!==-1&&n.splice(r,1),n}function Nn(e){return e.filter(a=>a.tagName!=="A")}var ce=0;function Cn(){c.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Oe()),document.body.insertAdjacentElement("beforeend",e[1]??Oe()),ce++,()=>{ce===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(a=>a.remove()),ce--}},[])}function Oe(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var D=function(){return D=Object.assign||function(a){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(a[o]=n[o])}return a},D.apply(this,arguments)};function dt(e,a){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&a.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)a.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function Sn(e,a,n){if(n||arguments.length===2)for(var r=0,s=a.length,o;r<s;r++)(o||!(r in a))&&(o||(o=Array.prototype.slice.call(a,0,r)),o[r]=a[r]);return e.concat(o||Array.prototype.slice.call(a))}var J="right-scroll-bar-position",Q="width-before-scroll-bar",En="with-scroll-bars-hidden",kn="--removed-body-scroll-bar-size";function le(e,a){return typeof e=="function"?e(a):e&&(e.current=a),e}function Dn(e,a){var n=c.useState(function(){return{value:e,callback:a,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=a,n.facade}var Pn=typeof window<"u"?c.useLayoutEffect:c.useEffect,Le=new WeakMap;function Rn(e,a){var n=Dn(null,function(r){return e.forEach(function(s){return le(s,r)})});return Pn(function(){var r=Le.get(n);if(r){var s=new Set(r),o=new Set(e),l=n.current;s.forEach(function(i){o.has(i)||le(i,null)}),o.forEach(function(i){s.has(i)||le(i,l)})}Le.set(n,e)},[e]),n}function Tn(e){return e}function An(e,a){a===void 0&&(a=Tn);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=a(o,r);return n.push(l),function(){n=n.filter(function(i){return i!==l})}},assignSyncMedium:function(o){for(r=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(i){return o(i)},filter:function(){return n}}},assignMedium:function(o){r=!0;var l=[];if(n.length){var i=n;n=[],i.forEach(o),l=n}var v=function(){var y=l;l=[],y.forEach(o)},p=function(){return Promise.resolve().then(v)};p(),n={push:function(y){l.push(y),p()},filter:function(y){return l=l.filter(y),n}}}};return s}function In(e){e===void 0&&(e={});var a=An(null);return a.options=D({async:!0,ssr:!1},e),a}var ut=function(e){var a=e.sideCar,n=dt(e,["sideCar"]);if(!a)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=a.read();if(!r)throw new Error("Sidecar medium not found");return c.createElement(r,D({},n))};ut.isSideCarExport=!0;function Mn(e,a){return e.useMedium(a),ut}var mt=In(),de=function(){},ne=c.forwardRef(function(e,a){var n=c.useRef(null),r=c.useState({onScrollCapture:de,onWheelCapture:de,onTouchMoveCapture:de}),s=r[0],o=r[1],l=e.forwardProps,i=e.children,v=e.className,p=e.removeScrollBar,y=e.enabled,x=e.shards,g=e.sideCar,b=e.noIsolation,j=e.inert,u=e.allowPinchZoom,m=e.as,f=m===void 0?"div":m,N=e.gapMode,h=dt(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),d=g,w=Rn([n,a]),k=D(D({},h),s);return c.createElement(c.Fragment,null,y&&c.createElement(d,{sideCar:mt,removeScrollBar:p,shards:x,noIsolation:b,inert:j,setCallbacks:o,allowPinchZoom:!!u,lockRef:n,gapMode:N}),l?c.cloneElement(c.Children.only(i),D(D({},k),{ref:w})):c.createElement(f,D({},k,{className:v,ref:w}),i))});ne.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};ne.classNames={fullWidth:Q,zeroRight:J};var Fn=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function On(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var a=Fn();return a&&e.setAttribute("nonce",a),e}function Ln(e,a){e.styleSheet?e.styleSheet.cssText=a:e.appendChild(document.createTextNode(a))}function _n(e){var a=document.head||document.getElementsByTagName("head")[0];a.appendChild(e)}var Vn=function(){var e=0,a=null;return{add:function(n){e==0&&(a=On())&&(Ln(a,n),_n(a)),e++},remove:function(){e--,!e&&a&&(a.parentNode&&a.parentNode.removeChild(a),a=null)}}},Wn=function(){var e=Vn();return function(a,n){c.useEffect(function(){return e.add(a),function(){e.remove()}},[a&&n])}},ft=function(){var e=Wn(),a=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return a},$n={left:0,top:0,right:0,gap:0},ue=function(e){return parseInt(e||"",10)||0},Bn=function(e){var a=window.getComputedStyle(document.body),n=a[e==="padding"?"paddingLeft":"marginLeft"],r=a[e==="padding"?"paddingTop":"marginTop"],s=a[e==="padding"?"paddingRight":"marginRight"];return[ue(n),ue(r),ue(s)]},Un=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return $n;var a=Bn(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:a[0],top:a[1],right:a[2],gap:Math.max(0,r-n+a[2]-a[0])}},zn=ft(),U="data-scroll-locked",Hn=function(e,a,n,r){var s=e.left,o=e.top,l=e.right,i=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(En,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(i,"px ").concat(r,`;
  }
  body[`).concat(U,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([a&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(i,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(i,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(J,` {
    right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(Q,` {
    margin-right: `).concat(i,"px ").concat(r,`;
  }
  
  .`).concat(J," .").concat(J,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Q," .").concat(Q,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(U,`] {
    `).concat(kn,": ").concat(i,`px;
  }
`)},_e=function(){var e=parseInt(document.body.getAttribute(U)||"0",10);return isFinite(e)?e:0},Gn=function(){c.useEffect(function(){return document.body.setAttribute(U,(_e()+1).toString()),function(){var e=_e()-1;e<=0?document.body.removeAttribute(U):document.body.setAttribute(U,e.toString())}},[])},qn=function(e){var a=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;Gn();var o=c.useMemo(function(){return Un(s)},[s]);return c.createElement(zn,{styles:Hn(o,!a,s,n?"":"!important")})},fe=!1;if(typeof window<"u")try{var K=Object.defineProperty({},"passive",{get:function(){return fe=!0,!0}});window.addEventListener("test",K,K),window.removeEventListener("test",K,K)}catch{fe=!1}var L=fe?{passive:!1}:!1,Kn=function(e){return e.tagName==="TEXTAREA"},ht=function(e,a){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[a]!=="hidden"&&!(n.overflowY===n.overflowX&&!Kn(e)&&n[a]==="visible")},Zn=function(e){return ht(e,"overflowY")},Xn=function(e){return ht(e,"overflowX")},Ve=function(e,a){var n=a.ownerDocument,r=a;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=pt(e,r);if(s){var o=vt(e,r),l=o[1],i=o[2];if(l>i)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Yn=function(e){var a=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[a,n,r]},Jn=function(e){var a=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[a,n,r]},pt=function(e,a){return e==="v"?Zn(a):Xn(a)},vt=function(e,a){return e==="v"?Yn(a):Jn(a)},Qn=function(e,a){return e==="h"&&a==="rtl"?-1:1},ea=function(e,a,n,r,s){var o=Qn(e,window.getComputedStyle(a).direction),l=o*r,i=n.target,v=a.contains(i),p=!1,y=l>0,x=0,g=0;do{var b=vt(e,i),j=b[0],u=b[1],m=b[2],f=u-m-o*j;(j||f)&&pt(e,i)&&(x+=f,g+=j),i instanceof ShadowRoot?i=i.host:i=i.parentNode}while(!v&&i!==document.body||v&&(a.contains(i)||a===i));return(y&&(Math.abs(x)<1||!s)||!y&&(Math.abs(g)<1||!s))&&(p=!0),p},Z=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},We=function(e){return[e.deltaX,e.deltaY]},$e=function(e){return e&&"current"in e?e.current:e},ta=function(e,a){return e[0]===a[0]&&e[1]===a[1]},na=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},aa=0,_=[];function ra(e){var a=c.useRef([]),n=c.useRef([0,0]),r=c.useRef(),s=c.useState(aa++)[0],o=c.useState(ft)[0],l=c.useRef(e);c.useEffect(function(){l.current=e},[e]),c.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var u=Sn([e.lockRef.current],(e.shards||[]).map($e),!0).filter(Boolean);return u.forEach(function(m){return m.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),u.forEach(function(m){return m.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var i=c.useCallback(function(u,m){if("touches"in u&&u.touches.length===2||u.type==="wheel"&&u.ctrlKey)return!l.current.allowPinchZoom;var f=Z(u),N=n.current,h="deltaX"in u?u.deltaX:N[0]-f[0],d="deltaY"in u?u.deltaY:N[1]-f[1],w,k=u.target,z=Math.abs(h)>Math.abs(d)?"h":"v";if("touches"in u&&z==="h"&&k.type==="range")return!1;var q=Ve(z,k);if(!q)return!0;if(q?w=z:(w=z==="v"?"h":"v",q=Ve(z,k)),!q)return!1;if(!r.current&&"changedTouches"in u&&(h||d)&&(r.current=w),!w)return!0;var Se=r.current||w;return ea(Se,m,u,Se==="h"?h:d,!0)},[]),v=c.useCallback(function(u){var m=u;if(!(!_.length||_[_.length-1]!==o)){var f="deltaY"in m?We(m):Z(m),N=a.current.filter(function(w){return w.name===m.type&&(w.target===m.target||m.target===w.shadowParent)&&ta(w.delta,f)})[0];if(N&&N.should){m.cancelable&&m.preventDefault();return}if(!N){var h=(l.current.shards||[]).map($e).filter(Boolean).filter(function(w){return w.contains(m.target)}),d=h.length>0?i(m,h[0]):!l.current.noIsolation;d&&m.cancelable&&m.preventDefault()}}},[]),p=c.useCallback(function(u,m,f,N){var h={name:u,delta:m,target:f,should:N,shadowParent:sa(f)};a.current.push(h),setTimeout(function(){a.current=a.current.filter(function(d){return d!==h})},1)},[]),y=c.useCallback(function(u){n.current=Z(u),r.current=void 0},[]),x=c.useCallback(function(u){p(u.type,We(u),u.target,i(u,e.lockRef.current))},[]),g=c.useCallback(function(u){p(u.type,Z(u),u.target,i(u,e.lockRef.current))},[]);c.useEffect(function(){return _.push(o),e.setCallbacks({onScrollCapture:x,onWheelCapture:x,onTouchMoveCapture:g}),document.addEventListener("wheel",v,L),document.addEventListener("touchmove",v,L),document.addEventListener("touchstart",y,L),function(){_=_.filter(function(u){return u!==o}),document.removeEventListener("wheel",v,L),document.removeEventListener("touchmove",v,L),document.removeEventListener("touchstart",y,L)}},[]);var b=e.removeScrollBar,j=e.inert;return c.createElement(c.Fragment,null,j?c.createElement(o,{styles:na(s)}):null,b?c.createElement(qn,{gapMode:e.gapMode}):null)}function sa(e){for(var a=null;e!==null;)e instanceof ShadowRoot&&(a=e.host,e=e.host),e=e.parentNode;return a}const oa=Mn(mt,ra);var xt=c.forwardRef(function(e,a){return c.createElement(ne,D({},e,{ref:a,sideCar:oa}))});xt.classNames=ne.classNames;var ia=function(e){if(typeof document>"u")return null;var a=Array.isArray(e)?e[0]:e;return a.ownerDocument.body},V=new WeakMap,X=new WeakMap,Y={},me=0,gt=function(e){return e&&(e.host||gt(e.parentNode))},ca=function(e,a){return a.map(function(n){if(e.contains(n))return n;var r=gt(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},la=function(e,a,n,r){var s=ca(a,Array.isArray(e)?e:[e]);Y[n]||(Y[n]=new WeakMap);var o=Y[n],l=[],i=new Set,v=new Set(s),p=function(x){!x||i.has(x)||(i.add(x),p(x.parentNode))};s.forEach(p);var y=function(x){!x||v.has(x)||Array.prototype.forEach.call(x.children,function(g){if(i.has(g))y(g);else try{var b=g.getAttribute(r),j=b!==null&&b!=="false",u=(V.get(g)||0)+1,m=(o.get(g)||0)+1;V.set(g,u),o.set(g,m),l.push(g),u===1&&j&&X.set(g,!0),m===1&&g.setAttribute(n,"true"),j||g.setAttribute(r,"true")}catch(f){console.error("aria-hidden: cannot operate on ",g,f)}})};return y(a),i.clear(),me++,function(){l.forEach(function(x){var g=V.get(x)-1,b=o.get(x)-1;V.set(x,g),o.set(x,b),g||(X.has(x)||x.removeAttribute(r),X.delete(x)),b||x.removeAttribute(n)}),me--,me||(V=new WeakMap,V=new WeakMap,X=new WeakMap,Y={})}},da=function(e,a,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=ia(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),la(r,s,n,"aria-hidden")):function(){return null}},je="Dialog",[yt,Oa]=ze(je),[ua,E]=yt(je),bt=e=>{const{__scopeDialog:a,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:l=!0}=e,i=c.useRef(null),v=c.useRef(null),[p=!1,y]=He({prop:r,defaultProp:s,onChange:o});return t.jsx(ua,{scope:a,triggerRef:i,contentRef:v,contentId:ae(),titleId:ae(),descriptionId:ae(),open:p,onOpenChange:y,onOpenToggle:c.useCallback(()=>y(x=>!x),[y]),modal:l,children:n})};bt.displayName=je;var jt="DialogTrigger",wt=c.forwardRef((e,a)=>{const{__scopeDialog:n,...r}=e,s=E(jt,n),o=G(a,s.triggerRef);return t.jsx(R.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Ce(s.open),...r,ref:o,onClick:$(e.onClick,s.onOpenToggle)})});wt.displayName=jt;var we="DialogPortal",[ma,Nt]=yt(we,{forceMount:void 0}),Ct=e=>{const{__scopeDialog:a,forceMount:n,children:r,container:s}=e,o=E(we,a);return t.jsx(ma,{scope:a,forceMount:n,children:c.Children.map(r,l=>t.jsx(ye,{present:n||o.open,children:t.jsx(Gt,{asChild:!0,container:s,children:l})}))})};Ct.displayName=we;var ee="DialogOverlay",St=c.forwardRef((e,a)=>{const n=Nt(ee,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=E(ee,e.__scopeDialog);return o.modal?t.jsx(ye,{present:r||o.open,children:t.jsx(fa,{...s,ref:a})}):null});St.displayName=ee;var fa=c.forwardRef((e,a)=>{const{__scopeDialog:n,...r}=e,s=E(ee,n);return t.jsx(xt,{as:Ut,allowPinchZoom:!0,shards:[s.contentRef],children:t.jsx(R.div,{"data-state":Ce(s.open),...r,ref:a,style:{pointerEvents:"auto",...r.style}})})}),O="DialogContent",Et=c.forwardRef((e,a)=>{const n=Nt(O,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=E(O,e.__scopeDialog);return t.jsx(ye,{present:r||o.open,children:o.modal?t.jsx(ha,{...s,ref:a}):t.jsx(pa,{...s,ref:a})})});Et.displayName=O;var ha=c.forwardRef((e,a)=>{const n=E(O,e.__scopeDialog),r=c.useRef(null),s=G(a,n.contentRef,r);return c.useEffect(()=>{const o=r.current;if(o)return da(o)},[]),t.jsx(kt,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:$(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:$(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,i=l.button===0&&l.ctrlKey===!0;(l.button===2||i)&&o.preventDefault()}),onFocusOutside:$(e.onFocusOutside,o=>o.preventDefault())})}),pa=c.forwardRef((e,a)=>{const n=E(O,e.__scopeDialog),r=c.useRef(!1),s=c.useRef(!1);return t.jsx(kt,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,i;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(r.current||(i=n.triggerRef.current)==null||i.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var v,p;(v=e.onInteractOutside)==null||v.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((p=n.triggerRef.current)==null?void 0:p.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),kt=c.forwardRef((e,a)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=e,i=E(O,n),v=c.useRef(null),p=G(a,v);return Cn(),t.jsxs(t.Fragment,{children:[t.jsx(ct,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:t.jsx(zt,{role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":Ce(i.open),...l,ref:p,onDismiss:()=>i.onOpenChange(!1)})}),t.jsxs(t.Fragment,{children:[t.jsx(va,{titleId:i.titleId}),t.jsx(ga,{contentRef:v,descriptionId:i.descriptionId})]})]})}),Ne="DialogTitle",Dt=c.forwardRef((e,a)=>{const{__scopeDialog:n,...r}=e,s=E(Ne,n);return t.jsx(R.h2,{id:s.titleId,...r,ref:a})});Dt.displayName=Ne;var Pt="DialogDescription",Rt=c.forwardRef((e,a)=>{const{__scopeDialog:n,...r}=e,s=E(Pt,n);return t.jsx(R.p,{id:s.descriptionId,...r,ref:a})});Rt.displayName=Pt;var Tt="DialogClose",At=c.forwardRef((e,a)=>{const{__scopeDialog:n,...r}=e,s=E(Tt,n);return t.jsx(R.button,{type:"button",...r,ref:a,onClick:$(e.onClick,()=>s.onOpenChange(!1))})});At.displayName=Tt;function Ce(e){return e?"open":"closed"}var It="DialogTitleWarning",[La,Mt]=Ht(It,{contentName:O,titleName:Ne,docsSlug:"dialog"}),va=({titleId:e})=>{const a=Mt(It),n=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return c.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},xa="DialogDescriptionWarning",ga=({contentRef:e,descriptionId:a})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Mt(xa).contentName}}.`;return c.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");a&&s&&(document.getElementById(a)||console.warn(r))},[r,e,a]),null},ya=bt,ba=wt,ja=Ct,Ft=St,Ot=Et,Lt=Dt,_t=Rt,wa=At;const Be=ya,Na=ba,Ca=ja,Vt=c.forwardRef(({className:e,...a},n)=>t.jsx(Ft,{ref:n,className:P("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));Vt.displayName=Ft.displayName;const he=c.forwardRef(({className:e,children:a,...n},r)=>t.jsxs(Ca,{children:[t.jsx(Vt,{}),t.jsxs(Ot,{ref:r,className:P("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[a,t.jsxs(wa,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[t.jsx(qt,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));he.displayName=Ot.displayName;const pe=({className:e,...a})=>t.jsx("div",{className:P("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});pe.displayName="DialogHeader";const ve=({className:e,...a})=>t.jsx("div",{className:P("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});ve.displayName="DialogFooter";const xe=c.forwardRef(({className:e,...a},n)=>t.jsx(Lt,{ref:n,className:P("text-lg font-semibold leading-none tracking-tight",e),...a}));xe.displayName=Lt.displayName;const ge=c.forwardRef(({className:e,...a},n)=>t.jsx(_t,{ref:n,className:P("text-sm text-muted-foreground",e),...a}));ge.displayName=_t.displayName;const Ue={contacts:`Name,Email
John Doe,john.doe@example.com
Jane Smith,jane.smith@example.com`,domains:`Domain
example.com
company.org
business.net`};function Sa(e){return e.trim().split(`
`).map(n=>{const r=[];let s="",o=!1;for(let l=0;l<n.length;l++){const i=n[l];i==='"'?o=!o:i===","&&!o?(r.push(s.trim()),s=""):s+=i}return r.push(s.trim()),r})}function Ea(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function ka(e){return/^[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(\.[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(e)}function Wt(e,a){const n={contacts:[],domains:[],errors:[]};try{const r=Sa(e);if(r.length===0)return n.errors.push("CSV file is empty"),n;if(a==="contacts"){if(r[0].length<2)return n.errors.push("Contacts CSV must have at least 2 columns: Name and Email"),n;for(let s=1;s<r.length;s++){const o=r[s];if(o.length<2){n.errors.push(`Row ${s+1}: Insufficient columns`);continue}const l=o[0].trim(),i=o[1].trim();if(!l){n.errors.push(`Row ${s+1}: Name is required`);continue}if(!i){n.errors.push(`Row ${s+1}: Email is required`);continue}if(!Ea(i)){n.errors.push(`Row ${s+1}: Invalid email format: ${i}`);continue}n.contacts.push({name:l,email:i})}}else if(a==="domains"){if(r[0].length<1)return n.errors.push("Domains CSV must have at least 1 column: Domain"),n;for(let s=1;s<r.length;s++){const o=r[s];if(o.length<1){n.errors.push(`Row ${s+1}: Insufficient columns`);continue}const l=o[0].trim();if(!l){n.errors.push(`Row ${s+1}: Domain is required`);continue}if(!ka(l)){n.errors.push(`Row ${s+1}: Invalid domain format: ${l}`);continue}n.domains.push(l)}}}catch(r){n.errors.push(`Error parsing CSV: ${r instanceof Error?r.message:"Unknown error"}`)}return n}function $t(e){const a=e==="contacts"?Ue.contacts:Ue.domains,n=`phishguard-${e}-template.csv`,r=new Blob([a],{type:"text/csv"}),s=URL.createObjectURL(r),o=document.createElement("a");o.href=s,o.download=n,document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(s)}const Da=({onContactsImport:e,existingContacts:a})=>{const[n,r]=c.useState(!1),[s,o]=c.useState(null),[l,i]=c.useState(!1),v=c.useRef(null),{toast:p}=te(),y=async m=>{var N;const f=(N=m.target.files)==null?void 0:N[0];if(f){if(!f.name.toLowerCase().endsWith(".csv")){p({title:"Invalid file type",description:"Please select a CSV file",variant:"destructive"});return}r(!0);try{const h=await f.text(),d=Wt(h,"contacts");o(d),i(!0)}catch{p({title:"Error",description:"Failed to read CSV file",variant:"destructive"})}finally{r(!1)}}},x=()=>{if(!s)return;const m=s.contacts.filter(f=>!a.some(N=>N.email.toLowerCase()===f.email.toLowerCase()));if(m.length===0){p({title:"No new contacts",description:"All contacts in the CSV already exist"});return}e(m),p({title:"Success",description:`Imported ${m.length} new contacts`}),o(null),i(!1),v.current&&(v.current.value="")},g=()=>{$t("contacts")},b=()=>{o(null),i(!1),v.current&&(v.current.value="")},j=()=>s?s.contacts.filter(m=>a.some(f=>f.email.toLowerCase()===m.email.toLowerCase())).length:0,u=()=>s?s.contacts.filter(m=>!a.some(f=>f.email.toLowerCase()===m.email.toLowerCase())).length:0;return t.jsxs(A,{children:[t.jsxs(I,{children:[t.jsxs(M,{className:"flex items-center gap-2",children:[t.jsx(Xe,{className:"h-5 w-5 text-blue-600"}),"Import Contacts from CSV"]}),t.jsx(B,{children:"Bulk import trusted contacts from a CSV file"})]}),t.jsxs(F,{children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(C,{variant:"outline",onClick:()=>{var m;return(m=v.current)==null?void 0:m.click()},disabled:n,className:"flex items-center gap-2",children:[t.jsx(Je,{className:"h-4 w-4"}),n?"Processing...":"Select CSV File"]}),t.jsxs(C,{variant:"outline",onClick:g,className:"flex items-center gap-2",children:[t.jsx(Ze,{className:"h-4 w-4"}),"Download Template"]})]}),t.jsx("input",{ref:v,type:"file",accept:".csv",onChange:y,className:"hidden"}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.jsx("p",{children:"CSV format: Name, Email"}),t.jsx("p",{children:"Example: John Doe, john.doe@example.com"})]})]}),l&&s&&t.jsx("div",{className:"mt-6 space-y-4",children:t.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h4",{className:"font-medium",children:"Import Preview"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(C,{variant:"outline",size:"sm",onClick:b,children:"Cancel"}),t.jsxs(C,{onClick:x,disabled:u()===0,className:"flex items-center gap-2",children:[t.jsx(Ke,{className:"h-4 w-4"}),"Import ",u()," New Contacts"]})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[t.jsxs("div",{className:"text-center p-3 bg-background rounded-md",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.contacts.length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Total in CSV"})]}),t.jsxs("div",{className:"text-center p-3 bg-background rounded-md",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:u()}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"New to Import"})]}),t.jsxs("div",{className:"text-center p-3 bg-background rounded-md",children:[t.jsx("div",{className:"text-2xl font-bold text-amber-600",children:j()}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Already Exist"})]})]}),s.errors.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-amber-600 mb-2",children:[t.jsx(qe,{className:"h-4 w-4"}),t.jsxs("span",{className:"font-medium",children:["Validation Errors (",s.errors.length,")"]})]}),t.jsx("div",{className:"text-sm space-y-1 max-h-32 overflow-y-auto",children:s.errors.map((m,f)=>t.jsx("div",{className:"text-amber-700 bg-amber-50 p-2 rounded",children:m},f))})]}),t.jsxs("div",{children:[t.jsx("h5",{className:"font-medium mb-2",children:"Preview of Contacts to Import:"}),t.jsxs("div",{className:"max-h-40 overflow-y-auto space-y-1",children:[s.contacts.slice(0,10).map((m,f)=>t.jsxs("div",{className:"text-sm p-2 bg-background rounded",children:[m.name," (",m.email,")"]},f)),s.contacts.length>10&&t.jsxs("div",{className:"text-sm text-muted-foreground text-center py-2",children:["... and ",s.contacts.length-10," more"]})]})]})]})})]})]})},Pa=()=>{const[e,a]=c.useState([]),[n,r]=c.useState({name:"",email:""}),[s,o]=c.useState(null),[l,i]=c.useState(-1),[v,p]=c.useState(!1),[y,x]=c.useState(!1),{toast:g}=te();c.useEffect(()=>{(async()=>{try{const d=await Ge();a(d.trustedContacts||[])}catch(d){console.error("Error loading trusted contacts:",d),g({title:"Error",description:"Failed to load trusted contacts",variant:"destructive"})}})()},[g]);const b=async h=>{try{await Yt(h),a(h),g({title:"Success",description:"Trusted contacts updated successfully"})}catch(d){console.error("Error saving trusted contacts:",d),g({title:"Error",description:"Failed to save trusted contacts",variant:"destructive"})}},j=async()=>{if(!n.name.trim()||!n.email.trim()){g({title:"Error",description:"Name and email are required",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)){g({title:"Error",description:"Please enter a valid email address",variant:"destructive"});return}if(e.some(w=>w.email.toLowerCase()===n.email.toLowerCase())){g({title:"Error",description:"A contact with this email already exists",variant:"destructive"});return}const d=[...e,n];await b(d),r({name:"",email:""}),p(!1)},u=(h,d)=>{o({...h}),i(d),x(!0)},m=async()=>{if(!s||l===-1)return;if(!s.name.trim()||!s.email.trim()){g({title:"Error",description:"Name and email are required",variant:"destructive"});return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)){g({title:"Error",description:"Please enter a valid email address",variant:"destructive"});return}if(e.some((w,k)=>k!==l&&w.email.toLowerCase()===s.email.toLowerCase())){g({title:"Error",description:"A contact with this email already exists",variant:"destructive"});return}const d=[...e];d[l]=s,await b(d),o(null),i(-1),x(!1)},f=async h=>{if(window.confirm("Are you sure you want to delete this contact?")){const d=e.filter((w,k)=>k!==h);await b(d)}},N=async h=>{const d=[...e,...h];await b(d)};return t.jsxs(A,{children:[t.jsxs(I,{children:[t.jsxs(M,{className:"flex items-center gap-2",children:[t.jsx(Qe,{className:"h-5 w-5 text-blue-600"}),"Trusted Contacts"]}),t.jsx(B,{children:"Add contacts you trust to detect email spoofing attempts"})]}),t.jsx(F,{children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("h4",{className:"text-sm font-medium",children:[e.length," ",e.length===1?"Contact":"Contacts"]}),t.jsxs(Be,{open:v,onOpenChange:p,children:[t.jsx(Na,{asChild:!0,children:t.jsxs(C,{variant:"outline",size:"sm",className:"flex items-center gap-2",children:[t.jsx(cn,{className:"h-4 w-4"}),"Add Contact"]})}),t.jsxs(he,{children:[t.jsxs(pe,{children:[t.jsx(xe,{children:"Add Trusted Contact"}),t.jsx(ge,{children:"Add a new contact to your trusted list."})]}),t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(H,{htmlFor:"name",children:"Name"}),t.jsx(W,{id:"name",placeholder:"John Doe",value:n.name,onChange:h=>r({...n,name:h.target.value})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(H,{htmlFor:"email",children:"Email"}),t.jsx(W,{id:"email",placeholder:"john.doe@example.com",value:n.email,onChange:h=>r({...n,email:h.target.value})})]})]}),t.jsxs(ve,{children:[t.jsx(C,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),t.jsx(C,{onClick:j,children:"Add Contact"})]})]})]})]}),e.length===0?t.jsx("div",{className:"text-center py-8 text-sm text-gray-500",children:"No trusted contacts added yet"}):t.jsx("div",{className:"border rounded-md",children:e.map((h,d)=>t.jsxs("div",{className:"flex items-center justify-between p-3 border-b last:border-b-0",children:[t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:h.name}),t.jsx("div",{className:"text-sm text-gray-500",children:h.email})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(C,{variant:"ghost",size:"icon",onClick:()=>u(h,d),children:t.jsx(sn,{className:"h-4 w-4"})}),t.jsx(C,{variant:"ghost",size:"icon",onClick:()=>f(d),children:t.jsx(Ye,{className:"h-4 w-4 text-red-500"})})]})]},d))}),t.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"PhishGuard will alert you if someone uses a trusted contact's name but with a different email address."})]})}),t.jsx("div",{className:"mt-6",children:t.jsx(Da,{onContactsImport:N,existingContacts:e})}),t.jsx(Be,{open:y,onOpenChange:x,children:t.jsxs(he,{children:[t.jsxs(pe,{children:[t.jsx(xe,{children:"Edit Trusted Contact"}),t.jsx(ge,{children:"Modify the details of an existing trusted contact."})]}),s&&t.jsxs("div",{className:"space-y-4 py-4",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx(H,{htmlFor:"edit-name",children:"Name"}),t.jsx(W,{id:"edit-name",value:s.name,onChange:h=>o({...s,name:h.target.value})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsx(H,{htmlFor:"edit-email",children:"Email"}),t.jsx(W,{id:"edit-email",value:s.email,onChange:h=>o({...s,email:h.target.value})})]})]}),t.jsxs(ve,{children:[t.jsx(C,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),t.jsx(C,{onClick:m,children:"Save Changes"})]})]})})]})},Ra=({onDomainsImport:e,existingDomains:a})=>{const[n,r]=c.useState(!1),[s,o]=c.useState(null),[l,i]=c.useState(!1),v=c.useRef(null),{toast:p}=te(),y=async m=>{var N;const f=(N=m.target.files)==null?void 0:N[0];if(f){if(!f.name.toLowerCase().endsWith(".csv")){p({title:"Invalid file type",description:"Please select a CSV file",variant:"destructive"});return}r(!0);try{const h=await f.text(),d=Wt(h,"domains");o(d),i(!0)}catch{p({title:"Error",description:"Failed to read CSV file",variant:"destructive"})}finally{r(!1)}}},x=()=>{if(!s)return;const m=s.domains.filter(f=>!a.includes(f));if(m.length===0){p({title:"No new domains",description:"All domains in the CSV already exist"});return}e(m),p({title:"Success",description:`Imported ${m.length} new domains`}),o(null),i(!1),v.current&&(v.current.value="")},g=()=>{$t("domains")},b=()=>{o(null),i(!1),v.current&&(v.current.value="")},j=()=>s?s.domains.filter(m=>a.includes(m)).length:0,u=()=>s?s.domains.filter(m=>!a.includes(m)).length:0;return t.jsxs(A,{children:[t.jsxs(I,{children:[t.jsxs(M,{className:"flex items-center gap-2",children:[t.jsx(Xe,{className:"h-5 w-5 text-blue-600"}),"Import Domains from CSV"]}),t.jsx(B,{children:"Bulk import domains to monitor for phishing attempts"})]}),t.jsxs(F,{children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"flex gap-2",children:[t.jsxs(C,{variant:"outline",onClick:()=>{var m;return(m=v.current)==null?void 0:m.click()},disabled:n,className:"flex items-center gap-2",children:[t.jsx(Je,{className:"h-4 w-4"}),n?"Processing...":"Select CSV File"]}),t.jsxs(C,{variant:"outline",onClick:g,className:"flex items-center gap-2",children:[t.jsx(Ze,{className:"h-4 w-4"}),"Download Template"]})]}),t.jsx("input",{ref:v,type:"file",accept:".csv",onChange:y,className:"hidden"}),t.jsxs("div",{className:"text-sm text-muted-foreground",children:[t.jsx("p",{children:"CSV format: Domain"}),t.jsx("p",{children:"Example: example.com"})]})]}),l&&s&&t.jsx("div",{className:"mt-6 space-y-4",children:t.jsxs("div",{className:"border rounded-lg p-4 bg-muted/50",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h4",{className:"font-medium",children:"Import Preview"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx(C,{variant:"outline",size:"sm",onClick:b,children:"Cancel"}),t.jsxs(C,{onClick:x,disabled:u()===0,className:"flex items-center gap-2",children:[t.jsx(Ke,{className:"h-4 w-4"}),"Import ",u()," New Domains"]})]})]}),t.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[t.jsxs("div",{className:"text-center p-3 bg-background rounded-md",children:[t.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.domains.length}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Total in CSV"})]}),t.jsxs("div",{className:"text-center p-3 bg-background rounded-md",children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:u()}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"New to Import"})]}),t.jsxs("div",{className:"text-center p-3 bg-background rounded-md",children:[t.jsx("div",{className:"text-2xl font-bold text-amber-600",children:j()}),t.jsx("div",{className:"text-sm text-muted-foreground",children:"Already Exist"})]})]}),s.errors.length>0&&t.jsxs("div",{className:"mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2 text-amber-600 mb-2",children:[t.jsx(qe,{className:"h-4 w-4"}),t.jsxs("span",{className:"font-medium",children:["Validation Errors (",s.errors.length,")"]})]}),t.jsx("div",{className:"text-sm space-y-1 max-h-32 overflow-y-auto",children:s.errors.map((m,f)=>t.jsx("div",{className:"text-amber-700 bg-amber-50 p-2 rounded",children:m},f))})]}),t.jsxs("div",{children:[t.jsx("h5",{className:"font-medium mb-2",children:"Preview of Domains to Import:"}),t.jsxs("div",{className:"max-h-40 overflow-y-auto space-y-1",children:[s.domains.slice(0,10).map((m,f)=>t.jsx("div",{className:"text-sm p-2 bg-background rounded",children:m},f)),s.domains.length>10&&t.jsxs("div",{className:"text-sm text-muted-foreground text-center py-2",children:["... and ",s.domains.length-10," more"]})]})]})]})})]})]})},Ta=()=>{const[e,a]=c.useState(""),[n,r]=c.useState([]),[s,o]=c.useState(""),[l,i]=c.useState(!0),[v,p]=c.useState(!1),[y,x]=c.useState("general"),{toast:g}=te();c.useEffect(()=>{b()},[]);const b=async()=>{try{const d=await Ge();a(d.primaryDomain||""),r(d.additionalDomains||[]),i(d.detectionEnabled!==!1)}catch{j("Failed to load settings","error")}},j=(d,w)=>{g({title:d,variant:w==="error"?"destructive":"default"})},u=async()=>{if(!e){j("Please enter a domain","error");return}try{p(!0);const d=en(e);await tn({primaryDomain:e,variations:d,setupComplete:!0}),j("Primary domain updated successfully","success")}catch{j("Failed to update primary domain","error")}finally{p(!1)}},m=async()=>{if(!s){j("Please enter a domain","error");return}if(n.includes(s)){j("This domain is already in your list","error");return}try{p(!0),await Pe(s),r([...n,s]),o(""),j("Domain added successfully","success")}catch{j("Failed to add domain","error")}finally{p(!1)}},f=async d=>{try{p(!0),await nn(d),r(n.filter(w=>w!==d)),j("Domain removed successfully","success")}catch{j("Failed to remove domain","error")}finally{p(!1)}},N=async d=>{try{p(!0);for(const w of d)await Pe(w);r([...n,...d]),j(`${d.length} domains imported successfully`,"success")}catch{j("Failed to import domains","error")}finally{p(!1)}},h=async()=>{try{const d=!l;await an(d),i(d),j(d?"Detection enabled":"Detection disabled","success")}catch{j("Failed to update detection settings","error")}};return t.jsxs("div",{className:"container mx-auto py-8 px-4 max-w-4xl",children:[t.jsxs("header",{className:"mb-8 text-center",children:[t.jsxs("div",{className:"flex items-center justify-center mb-4",children:[t.jsx(ke,{className:"h-10 w-10 text-blue-600 mr-2"}),t.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"PhishGuard Settings"})]}),t.jsx("p",{className:"text-muted-foreground max-w-lg mx-auto",children:"Configure your protection settings to defend against phishing attempts that target your domains."})]}),t.jsxs(Jt,{defaultValue:"general",className:"w-full",value:y,onValueChange:x,children:[t.jsxs(Qt,{className:"grid w-full grid-cols-3 mb-8",children:[t.jsxs(re,{value:"general",className:"flex items-center gap-2",children:[t.jsx(De,{className:"h-4 w-4"}),t.jsx("span",{children:"General Settings"})]}),t.jsxs(re,{value:"domains",className:"flex items-center gap-2",children:[t.jsx(Te,{className:"h-4 w-4"}),t.jsx("span",{children:"Domain Management"})]}),t.jsxs(re,{value:"contacts",className:"flex items-center gap-2",children:[t.jsx(Qe,{className:"h-4 w-4"}),t.jsx("span",{children:"Trusted Contacts"})]})]}),t.jsxs(se,{value:"general",className:"space-y-6",children:[t.jsxs(A,{children:[t.jsxs(I,{children:[t.jsxs(M,{className:"flex items-center gap-2",children:[t.jsx(ke,{className:"h-5 w-5 text-blue-600"}),"Primary Domain Protection"]}),t.jsx(B,{children:"Set your primary domain that PhishGuard will protect from spoofing attempts"})]}),t.jsx(F,{children:t.jsxs("div",{className:"flex gap-4",children:[t.jsx(W,{type:"text",value:e,onChange:d=>a(d.target.value),placeholder:"example.com",className:"flex-1"}),t.jsx(C,{onClick:u,disabled:v,children:v?"Saving...":"Save Domain"})]})})]}),t.jsxs(A,{children:[t.jsxs(I,{children:[t.jsxs(M,{className:"flex items-center gap-2",children:[t.jsx(De,{className:"h-5 w-5 text-blue-600"}),"Detection Settings"]}),t.jsx(B,{children:"Configure how PhishGuard monitors for suspicious activity"})]}),t.jsx(F,{children:t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("div",{className:"space-y-2",children:[t.jsx("h4",{className:"font-medium",children:"Phishing Detection"}),t.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically scan emails for suspicious domains"})]}),t.jsx(st,{checked:l,onCheckedChange:h,"aria-label":"Toggle detection"})]})})]})]}),t.jsxs(se,{value:"domains",className:"space-y-6",children:[t.jsxs(A,{children:[t.jsxs(I,{children:[t.jsxs(M,{className:"flex items-center gap-2",children:[t.jsx(on,{className:"h-5 w-5 text-blue-600"}),"Additional Domains"]}),t.jsx(B,{children:"Add other domains you want to monitor for phishing attempts"})]}),t.jsxs(F,{className:"space-y-4",children:[t.jsxs("div",{className:"flex gap-4",children:[t.jsx(W,{type:"text",value:s,onChange:d=>o(d.target.value),placeholder:"Enter domain to monitor",className:"flex-1"}),t.jsx(C,{onClick:m,disabled:v,children:"Add Domain"})]}),t.jsxs("div",{className:"mt-6 space-y-2",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Monitored Domains"}),n.length===0?t.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[t.jsx(Te,{className:"mx-auto h-8 w-8 opacity-50 mb-2"}),t.jsx("p",{children:"No additional domains added yet"}),t.jsx("p",{className:"text-sm",children:"Add domains above to monitor them for phishing attempts"})]}):t.jsx("div",{className:"space-y-2",children:n.map(d=>t.jsxs("div",{className:"flex justify-between items-center p-3 bg-muted rounded-md",children:[t.jsx("span",{className:"font-medium",children:d}),t.jsxs(C,{variant:"ghost",size:"sm",onClick:()=>f(d),className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:[t.jsx(Ye,{className:"h-4 w-4"}),t.jsx("span",{className:"sr-only",children:"Remove"})]})]},d))})]})]})]}),t.jsxs(A,{children:[t.jsx(I,{children:t.jsxs(M,{className:"flex items-center gap-2",children:[t.jsx(Re,{className:"h-5 w-5 text-amber-500"}),"Important Information"]})}),t.jsx(F,{children:t.jsxs("div",{className:"text-sm space-y-2",children:[t.jsx("p",{children:"For each additional domain you add, PhishGuard will monitor for:"}),t.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[t.jsx("li",{children:"Look-alike domains that may be used in phishing attempts"}),t.jsx("li",{children:"Typosquatting variations of the domain name"}),t.jsx("li",{children:"Domains that use homoglyphs or special characters to mimic your domain"})]}),t.jsx("p",{className:"mt-4",children:"Adding too many domains may affect performance. Focus on your most important domains."}),t.jsxs("p",{className:"mt-4",children:[t.jsx("strong",{children:"Pro Tip:"})," Use the CSV Import Manager below to quickly add multiple domains from a spreadsheet."]})]})})]}),t.jsx(Ra,{onDomainsImport:N,existingDomains:n})]}),t.jsxs(se,{value:"contacts",className:"space-y-6",children:[t.jsx(Pa,{}),t.jsxs(A,{children:[t.jsx(I,{children:t.jsxs(M,{className:"flex items-center gap-2",children:[t.jsx(Re,{className:"h-5 w-5 text-amber-500"}),"About Trusted Contacts"]})}),t.jsx(F,{children:t.jsxs("div",{className:"text-sm space-y-2",children:[t.jsx("p",{children:"Adding trusted contacts helps PhishGuard protect you from impersonation attacks:"}),t.jsxs("ul",{className:"list-disc pl-5 space-y-1",children:[t.jsx("li",{children:"PhishGuard will flag emails where someone uses a trusted contact's name but with a different email address"}),t.jsx("li",{children:"This helps you detect when attackers try to impersonate people you know and trust"}),t.jsx("li",{children:"The system compares both the display name and email address to detect spoofing attempts"})]}),t.jsx("p",{children:"Add contacts that frequently email you and who might be targets for impersonation, such as colleagues, managers, or service providers."}),t.jsxs("p",{className:"mt-4",children:[t.jsx("strong",{children:"Pro Tip:"})," Use the CSV Import Manager below to quickly add multiple contacts from a spreadsheet."]})]})})]})]})]}),t.jsx("footer",{className:"mt-12 text-center text-sm text-muted-foreground",children:t.jsxs("p",{children:["PhishGuard Protector  ",new Date().getFullYear(),"  Protecting your domains from phishing attempts"]})})]})};Kt(document.getElementById("root")).render(t.jsxs(Zt.StrictMode,{children:[t.jsx(Ta,{}),t.jsx(Xt,{})]}));
